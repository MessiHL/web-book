#                                                 组件库

## 1 简介

**目标**：结合业务，封装常用的业务组件，发布到npm、github上。

**涉及知识点：**

1. vue基础语法
2. 组件基本语法
3. 字键通讯（sync，provide，inject）
4. 插槽使用
5. prop校验
6. 过渡与动画处理
7. 计算属性与监听属性
8. v-model语法糖
9. vue插件机制
10. npm发布



## 2 要点

### 1 eslint报错自动修复 --fix

**方法一：**每次启动项目先先执行 npm run lint 修复语法错误，再启动项目

```JSON
 "scripts": {
  "serve": "vue-cli-service lint --fix serve",
  "build": "vue-cli-service build",
  "lint": "vue-cli-service lint"
 },
```

**方法二：** 使用concurrently 命令将多条命令配置到一个参数中。

先全局安装concurrently ：

```
npm i concurrently
```

将多条命令配置到 dev中（执行dev就相当于 先执行lint再执行serve）：

```js
  "scripts": {
    "dev": "concurrently \"npm run lint\" \"npm run serve\" ",
    "serve": "vue-cli-service serve",
    "build": "vue-cli-service build",
    "lint": "vue-cli-service lint"
  },
```

**方法三：修改 lint 选项**

```
"scripts": {
    "lint": "eslint --fix --ext .js,.vue src"
  },
```

**方法四**：删除 lint配置

### 2 批量下载图标库

找到要下载的图标库项目，F12启动浏览器调试,在console中执行以下js代码，图标库就会加入到购物车中了：

```js
const iconList = document.querySelectorAll('#magix_vf_main > div.wrap > div.page-collection-detail-wrap > div.collection-detail > ul li')

for(icon of iconList) {
  icon.querySelector('div.icon-cover > span.cover-item.iconfont.cover-item-line.icon-gouwuche1').click()
}
```

### **3 npm run lib   Sass报错**

1、安装sass-loader

```xml
npm install sass-loader --save-dev
```

2、安装 node-sass

```xml
npm install node-sass --save-dev
```



## 3 组件库开发流程

1 使用 vue-cli 新建项目







## 20 参考资料

[【黑马程序员】VUE进阶-从0到1搭建UI组件库](https://www.bilibili.com/video/BV1nJ411V75n)

[【CSDN】模仿elment-ui封装vue组件系列(作者参考了https://www.bilibili.com/video/BV1nJ411V75n)](https://blog.csdn.net/weixiaowei_2016/category_9832405.html)